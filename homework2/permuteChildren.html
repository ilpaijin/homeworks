<!DOCTYPE html>
<html>
<head>
<title>permuteChildren()</title>
</head>
<body>

<script type="text/javascript">

function permuteChildren(parent)
{
	/* - Verifies that the parent is a DOM node of type 'Element'. If not, it abandons by returning false. */
	if (!parent.hasChildNodes() || parent.nodeType != Node.ELEMENT_NODE)
	{
		return false;
	}

	/* - Cleans parent from any direct child that is not of type 'Element'. */
	for(var i=0, len = parent.childNodes.length; i < len; i++)
	{
		if(parent.childNodes[i] && parent.childNodes[i].nodeType !== 1)
		{
			parent.removeChild(parent.childNodes[i]);
		}
	}

	/* - Randomly permutes parent's direct child elements. */
	// however the best algorithm is https://github.com/coolaj86/knuth-shuffle
	
	var len = it = parent.childNodes.length;
	
	while(len !== -1)
	{
		r1 = Math.floor((Math.random() * it));
		r2 = Math.floor((Math.random() * it));

		replaced = parent.replaceChild(parent.childNodes[r1], parent.childNodes[r2]);
		parent.appendChild(replaced);
	
		len--;
	}

	return true;
}

</script>

</body>
</html>